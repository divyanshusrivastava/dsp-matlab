
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>DSP TUTORIAL -- UNDERSTANDING IMAGE PROCESSING ON MATLAB</title><meta name="generator" content="MATLAB 8.1"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2014-10-01"><meta name="DC.source" content="image_kernel_conv_1.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, tt, code { font-size:12px; }
pre { margin:0px 0px 20px; }
pre.error { color:red; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>DSP TUTORIAL -- UNDERSTANDING IMAGE PROCESSING ON MATLAB</h1><!--introduction--><p>This tutorial gives a beginner level introduction to image processing using MATLAB&reg; 2013.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">INTRODUCTION</a></li><li><a href="#3">Reading and displaying the image</a></li><li><a href="#4">Displaying individually the red, green and blue components.</a></li><li><a href="#5">Converting an image to Gray Scale</a></li><li><a href="#6">Using kernel matrices with images -- EDGE DETECTION</a></li><li><a href="#9">Displaying the horizontal and vertical edges seperately</a></li><li><a href="#10">Displaying the normalized vertical and horizontal edges combined</a></li></ul></div><h2>INTRODUCTION<a name="1"></a></h2><p>Digital Image Processing refers to the manipulation of iamge data which is motivated by conversion between Spacial and Frequency domains.</p><p>A <i>filter</i> is a matrix, typically 3x3, 4x4, 5x5 which is applied to the input pixels one at a time, resulting in an output pixel in the filtererd image.</p><h2>Reading and displaying the image<a name="3"></a></h2><p>imread() and imshow() functions are used to load and display an image respectively.</p><pre class="codeinput">image = imread(<span class="string">'image.jpg'</span>);
imshow(image);
</pre><img vspace="5" hspace="5" src="image_kernel_conv_1_01.png" alt=""> <h2>Displaying individually the red, green and blue components.<a name="4"></a></h2><p>WE know that a digital jpeg image is comp;losed of red, blue and green components. The loaded image is 3 Dimensional matrix with dimensions mxnx3, where m and n are the length and width of the image.</p><pre class="codeinput"><span class="comment">% Displaying red-components</span>
figure(1)
imshow(image(:,:,1));

<span class="comment">% Displaying green-components</span>
figure(2)
imshow(image(:,:,2));

<span class="comment">% Displaying blue-components</span>
figure(3)
imshow(image(:,:,3));
</pre><img vspace="5" hspace="5" src="image_kernel_conv_1_02.png" alt=""> <img vspace="5" hspace="5" src="image_kernel_conv_1_03.png" alt=""> <img vspace="5" hspace="5" src="image_kernel_conv_1_04.png" alt=""> <h2>Converting an image to Gray Scale<a name="5"></a></h2><p>A colored image is converted into a grayscale image by simply calling the rgb2gray() function.</p><pre class="codeinput">gray_image = rgb2gray(image);
imshow(gray_image);
</pre><img vspace="5" hspace="5" src="image_kernel_conv_1_05.png" alt=""> <h2>Using kernel matrices with images -- EDGE DETECTION<a name="6"></a></h2><p>In image processing, many filter operations are applied to in image by performing a special operation called convolution with a matrix. this matrix is called a KERNEL. Kernels are typically 3x3 square matrices, although kernels of size 4x4, 5x5 are also used. The values stored in a kernel directly relates to the result after applying the filter, and filters are characterised solely by kernel matrix. For example, the following kernels are used for detecting the horizontal and vertical edges in an image.</p><pre class="codeinput"><span class="comment">% Define the Sobel kernels</span>
kernel_horizontal = [1 2 1;0 0 0;-1 -2 -1];
kernel_vertical = [1 0 -1;-2 0 2;-1 0 1];

<span class="comment">% Convolve the gray image with Sobel Kernels</span>
M1 = conv2(double(gray_image), double(kernel_horizontal));
M2 = conv2(double(gray_image), double(kernel_vertical));
</pre><p>double is used because the loaded image was by defauls in Unit8 format, which needs to be converted in numbers before processing.</p><h2>Displaying the horizontal and vertical edges seperately<a name="9"></a></h2><pre class="codeinput">    Figure(4)
    imshow(abs(M1),[]);
    title(<span class="string">'horizontal parts'</span>);

    Figure(5)
    imshow(abs(M2),[]);
    title(<span class="string">'vertical parts'</span>);
</pre><pre class="codeoutput">Undefined function 'Figure' for input arguments of type 'double'.

Error in image_kernel_conv_1 (line 67)
    Figure(4)
</pre><h2>Displaying the normalized vertical and horizontal edges combined<a name="10"></a></h2><pre class="codeinput">    figure(2);
    imshow((M1.^2+M2.^2).^0.5,[]);
</pre><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2013a</a><br></p></div><!--
##### SOURCE BEGIN #####
%% DSP TUTORIAL REPLACE_WITH_DASH_DASH UNDERSTANDING IMAGE PROCESSING ON MATLAB
% This tutorial gives a beginner level introduction to image processing
% using MATLAB(R) 2013.

%% INTRODUCTION
% Digital Image Processing refers to the manipulation of iamge data which
% is motivated by conversion between Spacial and Frequency domains.
%%
% A _filter_ is a matrix, typically 3x3, 4x4, 5x5 which is
% applied to the input pixels one at a time, resulting in an output pixel
% in the filtererd image.


%% Reading and displaying the image
% imread() and imshow() functions are used to load and display an image
% respectively.

image = imread('image.jpg');
imshow(image);

%% Displaying individually the red, green and blue components.
% WE know that a digital jpeg image is comp;losed of red, blue and green
% components. The loaded image is 3 Dimensional matrix with dimensions
% mxnx3, where m and n are the length and width of the image.

% Displaying red-components
figure(1)
imshow(image(:,:,1));

% Displaying green-components
figure(2)
imshow(image(:,:,2));

% Displaying blue-components
figure(3)
imshow(image(:,:,3));
%% Converting an image to Gray Scale
% A colored image is converted into a grayscale image by simply calling the
% rgb2gray() function.
gray_image = rgb2gray(image);
imshow(gray_image);

%% Using kernel matrices with images REPLACE_WITH_DASH_DASH EDGE DETECTION
%%
% In image processing, many filter operations are applied to in image by
% performing a special operation called convolution with a matrix. this
% matrix is called a KERNEL.
% Kernels are typically 3x3 square matrices, although kernels of size 4x4,
% 5x5 are also used.
% The values stored in a kernel directly relates to the result after
% applying the filter, and filters are characterised solely by kernel
% matrix. For example, the following kernels are used for detecting the
% horizontal and vertical edges in an image.

% Define the Sobel kernels
kernel_horizontal = [1 2 1;0 0 0;-1 -2 -1];
kernel_vertical = [1 0 -1;-2 0 2;-1 0 1];

% Convolve the gray image with Sobel Kernels
M1 = conv2(double(gray_image), double(kernel_horizontal));
M2 = conv2(double(gray_image), double(kernel_vertical));

%%
% double is used because the loaded image was by defauls in Unit8 format,
% which needs to be converted in numbers before processing.
    %% Displaying the horizontal and vertical edges seperately
    Figure(4)
    imshow(abs(M1),[]);
    title('horizontal parts');
    
    Figure(5)
    imshow(abs(M2),[]);
    title('vertical parts');
    
    
    %% Displaying the normalized vertical and horizontal edges combined
    figure(2);
    imshow((M1.^2+M2.^2).^0.5,[]);

##### SOURCE END #####
--></body></html>